<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Tenis Gra w JavaScript</title>
  <style>
    body {

      margin: 0;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: darkgray;
    }

    canvas {
      /*obramowania canvas*/
      border: 3px solid #fff;
    }
  </style>
</head>

<body>
  <h1>GRA PONG</h1>
  <div>
    <ul class="menu">
      <li><a href="index.html">Strona główna</a></li>
      <li><a href="app_jq.html">Wersja jQuery</a></li>
      <li><a href="app_p5.html">Wersja p5js</a></li>
    </ul>
</div>

  <canvas></canvas>

  <script>

    const canvas = document.querySelector('canvas');
    /*nowe właściwości i metody do których odwałamy sie za pomocą obiektu ctx*/
    const ctx = canvas.getContext('2d');

    /*canvas wysokość i szerokosć*/
    canvas.width = 1000;
    canvas.height = 500;

    /*wysokosć i szerokość przypisujemy do zmiennych*/
    const cw = canvas.width;
    const ch = canvas.height;

    const ballSize = 20; //wielkosć naszej
    let ballX = cw / 2 - ballSize / 2
    let ballY = ch / 2 - ballSize / 2

    const paddelHeight = 100; //wysokość rakietki gracza
    const paddelWidth = 20; //--------------------------

    const playerX = 70; //pozycja rakietki gracza na osi x
    const aiX = 910; //pozycja rakietki gracza na osi x

    let playerY = 200;
    let aiY = 200;

    const lineWidth = 6; //szerokosć rakietek
    const lineHeight = 16; //wysokosć rakietek

    let ballSpeedX = 7;
    let ballSpeedY = 7;


    function player() {
      ctx.fillStyle = 'yellow'; //kolor paletki 1
      ctx.fillRect(playerX, playerY, paddelWidth, paddelHeight);
    }


    function ai() {
      ctx.fillStyle = 'red'; // kolor paletki 2
      ctx.fillRect(aiX, aiY, paddelWidth, paddelHeight);
    }

    function ball() {

      ctx.fillStyle = 'blue'; // kolor piłki
      ctx.fillRect(ballX, ballY, ballSize, ballSize);


      ballX += ballSpeedX;
      ballY += ballSpeedY;

      if (ballY <= 0 || ballY + ballSize >= ch ) {
        ballSpeedY = -ballSpeedY;
      }

      if (ballX <=0 || ballX + ballSize >= cw) {
          ballSpeedX = -ballSpeedX;
        }
    }



    function table() {

      ctx.fillStyle = 'green';
      ctx.fillRect(0, 0, cw, ch);


      /*
      Rysuje środek boiska
      */
      for (let linePosition = 20; linePosition < ch; linePosition += 30) {
        ctx.fillStyle = "purple"
        ctx.fillRect(cw / 2 - lineWidth / 2, linePosition, lineWidth, lineHeight)
      }

    }


    function game() {
      table()
      ball()
      player()
      ai()
    }


    setInterval(game, 4000 / 60)
  </script>
</body>

</html>
